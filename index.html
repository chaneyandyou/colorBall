<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>五彩小球</title>
    <style>
        * {
            padding: 0;
            margin: 0;
            border: 0;
        }

        html, body {
            width: 100%;
            height: 100%;
        }

        #main {
            width: 100%;
            height: 100%;
            background: #000;
        }
    </style>
</head>
<body>
<div id="main">
</div>
<script src="js/Underscore-min.js"></script>
<script src="js/colorBall.js"></script>
<script>
    //1.获取所需的标签
    var main=document.getElementById('main');

    //2.定义小球数组和颜色数组
    var ballArr=[];
    var colorArr=['red', 'green', 'blue', 'yellow', 'purple', 'pink', 'orange', 'skyblue'];

    //3.创建小球放入数组
    main.onmousemove=function (event) {
        var event = event || window.event;
        new ColorBall({
            parentId: 'main',
            x: event.clientX,
            y: event.clientY,
            opacity:1,
            bgColor:colorArr[_.random(0, colorArr.length-1)]
        })
    }

    //4.定时器
    setInterval(function () {
        // 4.1 清屏
        for(var i=0; i<main.children.length; i++){
            main.removeChild(main.children[i]);
        }

        // 4.2 绘制小球和小球的动画
        for(var i=0; i<ballArr.length; i++){
            ballArr[i].render();
            ballArr[i].update();
        }
    }, 50);
</script>
</body>
</html>